<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prosperity Party – Member Registration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg">

<header>
    <img src="logo.png.png" class="logo">
    <h1>Prosperity Party – Ethiopia</h1>
    <p>Public Relations & Membership Registration</p>
</header>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member Information - Prosperity Party</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="logo.png" alt="Prosperity Party Logo" class="logo">
                <h1>Member Information Lookup</h1>
                <h2>Ethiopian Prosperity Party</h2>
            </div>
        </header>

        <main>
            <div id="memberDetails" class="member-details-container">
                <!-- Member details will be loaded here -->
                <div id="loadingMessage" style="text-align: center; padding: 50px;">
                    <i class="fas fa-spinner fa-spin fa-3x" style="color: #dc3545;"></i>
                    <h3>Loading member information...</h3>
                </div>
            </div>

            <div class="form-actions" style="justify-content: center; margin-top: 30px;">
                <a href="index.html" class="btn btn-register">
                    <i class="fas fa-home"></i> Back to Home
                </a>
                <button onclick="window.print()" class="btn btn-print">
                    <i class="fas fa-print"></i> Print Details
                </button>
            </div>
        </main>

        <footer>
            <p>Ethiopian Prosperity Party Member System &copy; <span id="lookupYear"></span></p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const memberId = sessionStorage.getItem('lookupMemberId');
            const memberDetails = document.getElementById('memberDetails');
            
            if (!memberId) {
                memberDetails.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <i class="fas fa-exclamation-triangle fa-3x" style="color: #ffc107;"></i>
                        <h3>No Member ID Provided</h3>
                        <p>Please enter a Member ID on the registration page to view details.</p>
                        <a href="index.html" class="btn btn-register">Go to Registration Page</a>
                    </div>
                `;
                return;
            }
            
            // Load member data
            const members = JSON.parse(localStorage.getItem('prosperityPartyMembers')) || [];
            const member = members.find(m => m.id === memberId);
            
            if (!member) {
                memberDetails.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <i class="fas fa-user-slash fa-3x" style="color: #dc3545;"></i>
                        <h3>Member Not Found</h3>
                        <p>No member found with ID: ${memberId}</p>
                        <p>Please check the Member ID and try again.</p>
                        <a href="index.html" class="btn btn-register">Go to Registration Page</a>
                    </div>
                `;
                return;
            }
            
            // Display member details
            const data = member.data;
            let photoHtml = '';
            if (data.photoData) {
                photoHtml = `<img src="${data.photoData}" alt="Member Photo">`;
            }
            
            memberDetails.innerHTML = `
                <div class="member-header" style="text-align: center; margin-bottom: 30px;">
                    <h2 style="color: #dc3545;">Member Information</h2>
                    <div class="member-id" style="font-size: 1.5rem; font-weight: bold; color: #495057;">
                        ID: ${memberId}
                    </div>
                </div>
                
                <div class="member-photo">
                    ${photoHtml || '<i class="fas fa-user-circle fa-6x" style="color: #6c757d;"></i>'}
                </div>
                
                <div class="details-grid">
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-user"></i> Full Name</span>
                        <span class="detail-value">${data.firstName} ${data.middleName || ''} ${data.lastName}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-venus-mars"></i> Gender</span>
                        <span class="detail-value">${data.gender || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-birthday-cake"></i> Date of Birth</span>
                        <span class="detail-value">${data.dateOfBirth || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-flag"></i> Nationality</span>
                        <span class="detail-value">${data.nationality || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-phone"></i> Phone Number</span>
                        <span class="detail-value">${data.phone || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-envelope"></i> Email</span>
                        <span class="detail-value">${data.email || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-home"></i> Address</span>
                        <span class="detail-value">${data.address || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-map-marker-alt"></i> Region</span>
                        <span class="detail-value">${data.region || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-city"></i> City/Town</span>
                        <span class="detail-value">${data.city || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-user-tie"></i> Occupation</span>
                        <span class="detail-value">${data.occupation || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-graduation-cap"></i> Education Level</span>
                        <span class="detail-value">${data.education || 'N/A'}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label"><i class="fas fa-building"></i> Workplace</span>
                        <span class="detail-value">${data.workplace || 'N/A'}</span>
                    </div>
                </div>
                
                <div class="detail-item" style="margin-top: 20px; text-align: center;">
                    <span class="detail-label"><i class="fas fa-calendar-alt"></i> Registration Date</span>
                    <span class="detail-value">${new Date(member.registrationDate).toLocaleDateString()} ${new Date(member.registrationDate).toLocaleTimeString()}</span>
                </div>
            `;
        });
        
        document.getElementById('lookupYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>